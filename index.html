<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Khulan üíï</title>

<style>
body {
  margin: 0;
  font-family: Arial, sans-serif;
  text-align: center;
  color: white;
  background-image: url("https://images.unsplash.com/photo-1526481280691-3c469b0d5f66");
  background-size: cover;
  background-position: center;
  background-attachment: fixed;
  overflow-x: hidden;
}

.overlay {
  background: rgba(255,192,203,0.75);
  min-height: 100vh;
  padding-top: 120px;
  position: relative;
}

h1 {
  font-size: 28px;
  min-height: 40px;
}

button {
  padding: 12px 20px;
  margin: 10px;
  font-size: 16px;
  border: none;
  border-radius: 25px;
  cursor: pointer;
  background: #ff69b4;
  color: white;
  transition: 0.3s;
  position: relative;
}

button:hover {
  background: #ff1493;
}

.hidden {
  display: none;
}

#countdown {
  font-size: 20px;
  margin-top: 15px;
  font-weight: bold;
}

#message {
  margin-top: 20px;
  font-weight: bold;
}

#sushiImage {
  margin-top: 20px;
  width: 280px;
  border-radius: 20px;
  display: none;
}

#noBtn {
  position: absolute;
}

/* Sakura + hearts */
.petal {
  position: fixed;
  top: -20px;
  font-size: 20px;
  animation: fall linear infinite;
}

@keyframes fall {
  to {
    transform: translateY(110vh) rotate(360deg);
    opacity: 0;
  }
}
</style>
</head>

<body>

<div class="overlay">

<div id="intro">
  <h1 id="typewriter"></h1>
  <p>üìÖ 3.18 Wednesday</p>
  <p>üìç Hidden place in Kyoto</p>
  <div id="countdown"></div>

  <button id="yesBtn">Yes üòç</button>
  <button id="noBtn">No üôÑ</button>
</div>

<div id="game" class="hidden">
  <h2>Guess what we're eating üòå</h2>
  <button class="option">Ramen üçú</button>
  <button class="option correct">Sushi üç£</button>
  <button class="option">Tempura üç§</button>
  <button class="option">Okonomiyaki ü•û</button>
  <p id="message"></p>

  <img id="sushiImage"
  src="https://images.unsplash.com/photo-1546069901-ba9599a7e63c"
  alt="Omakase Sushi">
</div>

</div>

<audio id="bgMusic" loop>
  <source src="https://www.bensound.com/bensound-music/bensound-romantic.mp3" type="audio/mp3">
</audio>

<script>

/* TYPEWRITER */
var text = "–•”©”©—Ä—Ö”©–Ω –•—É–ª–∞–Ω–¥–∞–π —Ç–∞–Ω—ã–≥ –±–æ–ª–∑–æ–æ–Ω–¥ —É—Ä—å–∂ –±–∞–π–Ω–∞ <3";
var i = 0;
var speed = 60;

function typeWriter() {
  if (i < text.length) {
    document.getElementById("typewriter").innerHTML += text.charAt(i);
    i++;
    setTimeout(typeWriter, speed);
  }
}
typeWriter();

/* COUNTDOWN */
var countdownDate = new Date("March 18, 2026 00:00:00").getTime();

var countdownFunction = setInterval(function() {
  var now = new Date().getTime();
  var distance = countdownDate - now;

  var days = Math.floor(distance / (1000 * 60 * 60 * 24));
  var hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
  var minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
  var seconds = Math.floor((distance % (1000 * 60)) / 1000);

  if (distance > 0) {
    document.getElementById("countdown").innerHTML =
      "‚è≥ " + days + "d " + hours + "h " + minutes + "m " + seconds + "s";
  } else {
    clearInterval(countdownFunction);
    document.getElementById("countdown").innerHTML = "It's date time üòç";
  }
}, 1000);

/* YES / NO LOGIC */
var music = document.getElementById("bgMusic");
var yesBtn = document.getElementById("yesBtn");
var noBtn = document.getElementById("noBtn");

yesBtn.addEventListener("click", function() {
  music.play().catch(function(){});
  document.getElementById("intro").classList.add("hidden");
  document.getElementById("game").classList.remove("hidden");
});

noBtn.addEventListener("mouseover", function() {
  var x = Math.random() * (window.innerWidth - 100);
  var y = Math.random() * (window.innerHeight - 50);
  noBtn.style.left = x + "px";
  noBtn.style.top = y + "px";
});

/* GAME */
var options = document.getElementsByClassName("option");
var message = document.getElementById("message");
var sushiImage = document.getElementById("sushiImage");

for (var j = 0; j < options.length; j++) {
  options[j].addEventListener("click", function() {
    if (this.classList.contains("correct")) {
      message.innerHTML = "Correct üòåüç£ See you on 3.18 üíï";
      sushiImage.style.display = "block";
      launchFireworks();
    } else {
      message.innerHTML = "Close üòè Try again...";
    }
  });
}

/* FIREWORKS */
function launchFireworks() {
  for (var i = 0; i < 6; i++) {
    setTimeout(createExplosion, i * 600);
  }
}

function createExplosion() {
  var explosionX = Math.random() * window.innerWidth;
  var explosionY = Math.random() * window.innerHeight / 2;

  for (var i = 0; i < 40; i++) {
    var particle = document.createElement("div");
    particle.style.position = "fixed";
    particle.style.width = "6px";
    particle.style.height = "6px";
    particle.style.borderRadius = "50%";
    particle.style.backgroundColor =
      "hsl(" + Math.random() * 360 + ",100%,60%)";

    particle.style.left = explosionX + "px";
    particle.style.top = explosionY + "px";

    document.body.appendChild(particle);

    var angle = Math.random() * 2 * Math.PI;
    var velocity = Math.random() * 150;

    var x = Math.cos(angle) * velocity;
    var y = Math.sin(angle) * velocity;

    particle.animate([
      { transform: "translate(0,0)", opacity: 1 },
      { transform: "translate(" + x + "px," + y + "px)", opacity: 0 }
    ], {
      duration: 1200,
      easing: "ease-out"
    });

    setTimeout((function(p) {
      return function() { p.remove(); };
    })(particle), 1200);
  }
}

/* SAKURA + HEART PETALS */
function createPetal() {
  var petal = document.createElement("div");
  petal.className = "petal";

  var symbols = ["üå∏", "üíó"];
  petal.innerHTML = symbols[Math.floor(Math.random() * symbols.length)];

  petal.style.left = Math.random() * 100 + "vw";
  petal.style.animationDuration = (Math.random() * 3 + 4) + "s";

  document.body.appendChild(petal);

  setTimeout(function() {
    petal.remove();
  }, 7000);
}

setInterval(createPetal, 500);

</script>

</body>
</html>
